# 题目名称：恢复二叉搜索树

## 题目链接：https://leetcode-cn.com/problems/recover-binary-search-tree/


## 题解：

二叉搜索树的两个节点被错误地交换，要求把这两个节点进行交换而整体结构不变。

二叉搜索树的特点是：左边的孩子比自己小，右边的孩子比自己大。如果错误地交换了两个节点，导致的大小错误关系很可能不止一个。那么我们要怎么判断？这就是二叉搜索树最重要的遍历方法：中序遍历。对于正确的二叉搜索树而言，中序遍历的结果是一个升序数列。但是如果两个节点被交换，那么对应的就是这个升序数列中的两个点被交换，对应的就是两个相邻的逆序对。例如1，2，3，4，5变成1，4，3，2，5。第一个相邻的逆序对是4和3，我们取前者。第二个逆序对是3和2，我们取后者。如果是相邻的呢？1，3，2，4，5。那么就这只有一个逆序对，这要额外判定，扫描一遍只有一个逆序对，那么就选定它的下一个作为另一个点。

遍历过程需要线性时间，存储点是常数空间，但是我们需要一个栈进行遍历，大小为树高约为logn。

这里希望找到一种常数存储空间，所以使用Morris中序遍历，就是，简单了说，把我们放到栈里的东西，用一个临时的链接，方便回去，虽然本人感觉这个似乎没什么意义，该有的临时链接最多也是logn个吧，只是忽略了？也可能我理解不够，建议去看看官方题解。