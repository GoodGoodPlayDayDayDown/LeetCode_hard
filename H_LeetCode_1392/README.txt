# 题目名称：最长快乐前缀

## 题目链接：https://leetcode-cn.com/problems/longest-happy-prefix/


## 题解：

给定字符串，返回最长快乐前缀。快乐前缀的定义是，这个前缀不但是前缀，也是后缀。如abcab中的ab。此处快乐前缀不能是整个字符串。没有这样的前缀时返回空。

这种前缀和后缀相同的问题，恰好就是KMP算法，可以了解一下，通过一次线性扫描，每次可以对前i个字符解决该问题。

值得一提的是新的解答方法，Rabin-Karp 字符串编码，也就是将字符串Hash，就是将字符串变成数字。在这里不考虑冲突，也不考虑mode的问题（mode的值取unsign long long的长度2^64）。将每个字符映射成一个在P进制的数字，第一位就是直接就是数字，第二位（从右往左算）要乘一个P，第三位乘P方，以此类推。我们从左往右计算的话，可以根据前i-1个字符对应的值，求前i个字符对应的值H[i] = P*H[i-1]+Hash[i]，就是前面的左移一位，然后加上最后一位的值。反过来，我们也可以求解后i个字符对应的值，T[i]= H[n]-H[n-i]*i，就是整个的值，减去不包括这i个后缀的部分向左移动i位的值。

这个编码的依据是，不冲突，那么只有在数字相等的情况下，才能是两个字符串相等，所以我们计算一遍H，然后遍历计算T的同时进行寻找。