# 题目名称：基本计算器

## 题目链接：https://leetcode-cn.com/problems/basic-calculator/


## 题解：

本题要求实现计算器来计算字符串表达式的值。字符串仅仅包括：左右括号，加号，减号，非负整数，空格。

这种题应该很熟悉，使用栈来计算。一般而言逆波兰式非常适合，但是这种情况的问题是，不一定有括号，但是很幸运的是，这里也没有乘法除法，所以有没有括号倒是不重要了。

直接使用栈，读取数字一直到不是数字为止进行数字读取。

官方题解中提到，A-B，如果进行挨个弹栈处理会变成B-A，所以需要反向计算或者变成A+(-B)。但是我们不一样，我们多用一点栈，第一个栈用来存储符号（加减），第二个栈用来存储当前最近两位数字或者左括号，第三个栈用来存储前面的数字或者左括号。每读取一个数字，其符号栈不为空，都要尝试一次计算，如果这两位均为数字，则用前面与后面数字进行作用，将第三个栈弹出一个元素作为二元栈的前一个值，后一个值为计算值。（栈空则作为第一个）然后一直进行计算，直到弹出的元素为左括号，然后再接着读取。这样一来，读到右括号时，二元栈里面一定是左括号加一个数字。直接变成这个数字，然后接着弹栈做计算，直至左括号或者为空。这是一种很贪心的算法，一有计算就立刻做了，只有左括号能阻止它。

首先这种算法对于没有括号一定正确。

然后对于有括号的，按照我们的算法会立刻计算没有被左括号隔开的值，右括号用来消除左括号的隔阂。

当然所有空格直接忽略就好。

